{% extends "base.html" %}

{% block title %}Chat{% endblock %}

{% block head %}
  {{ super() }}
  <style>
    .chat-container {
      border: 1px solid #ccc;
      padding: 10px;
      max-height: 300px;
      overflow: auto;
    }
  </style>
{% endblock %}

{% block body %}
  <h1>Chat</h1>
  <div class="chat-container">
    {% for msg in conversation %}
      <p><strong>{{ msg.role.capitalize() }}:</strong> {{ msg.content|e }}</p>
    {% endfor %}
  </div>
  <form method="post">
    <p><input type="text" name="message" placeholder="Type your message" required style="width: 80%;"></p>
    <p><input type="submit" value="Send"></p>
  </form>
  <p><a href="{{ url_for('upload') }}">Upload another file</a></p>
{% endblock %}
